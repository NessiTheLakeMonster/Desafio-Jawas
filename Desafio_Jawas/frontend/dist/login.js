(()=>{"use strict";const e=/(^[a-zA-Z0-9_]+)@+([a-z]+).([a-z]){2,5}/;let n=document.getElementById("mailLogin"),o=document.getElementById("passwdLogin"),t=document.getElementById("msgErrorEmail"),i=document.getElementById("msgErrorPasswd"),r=document.getElementById("msgExito");document.getElementById("btnLogin").addEventListener("click",(function(l){(function(){t.innerHTML="",i.innerHTML="",r.innerHTML="";var o=!0;return function(n,o){var t=!1;return""==n.value?(o.innerHTML="El campo email es obligatorio",o.style.color="red",n.style.borderColor="red"):e.test(n.value)?t=!0:(o.innerHTML="El campo email no es válido",o.style.color="red",n.style.borderColor="red"),t}(n,t)||(o=!1),o})()&&async function(e){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.passwd})};const o=await fetch("http://localhost:8000/api/login",n);return await o.json()}({email:n.value,passwd:o.value}).then((e=>{console.log(e),200==e.status?(r.innerHTML="Inicio de sesión correcto",window.location.href="home.html"):r.innerHTML="Inicio de sesión incorrecto"})).catch((e=>{console.log(e)}))}))})();