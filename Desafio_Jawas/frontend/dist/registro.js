(()=>{"use strict";const e=/^[a-zA-ZÀ-ÿ\s]{2,30}$/,o=/(^[a-zA-Z0-9_]+)@+([a-z]+).([a-z]){2,5}/,t=/^[a-zA-Z0-9!@#$%^&*()_+{}\[\]?\/\\|-]{6,12}$/;let r=document.getElementById("fotoPerfilRegistro"),l=document.getElementById("nombreRegistro"),n=document.getElementById("apellidoRegistro"),a=document.getElementById("mailRegistro"),s=document.getElementById("passwdRegistro"),d=document.getElementById("confPasswdRegistro"),i=document.getElementById("msgErrorNombre"),c=document.getElementById("msgErrorApellido"),m=document.getElementById("msgErrorEmail"),u=document.getElementById("msgErrorPasswd"),y=document.getElementById("msgErrorConfPasswd"),g=document.getElementById("msgExito");document.getElementById("btnRegistro").addEventListener("click",(function(p){p.preventDefault(),function(){i.textContent="",c.textContent="",m.textContent="",u.textContent="",y.textContent="",g.textContent="";var r=!0;return function(o,t){var r=!1;return""==o.value?(t.innerHTML="El campo nombre es obligatorio",t.style.color="red",o.style.borderColor="red"):e.test(o.value)?r=!0:(t.innerHTML="El campo nombre no es válido",t.style.color="red",o.style.borderColor="red"),r}(l,i)||(r=!1),function(o,t){var r=!1;return""==o.value?(t.innerHTML="El campo apellido es obligatorio",t.style.color="red",o.style.borderColor="red"):e.test(o.value)?r=!0:(t.innerHTML="El campo apellido no es válido",t.style.color="red",o.style.borderColor="red"),r}(n,c)||(r=!1),function(e,t){var r=!1;return""==e.value?(t.innerHTML="El campo email es obligatorio",t.style.color="red",e.style.borderColor="red"):o.test(e.value)?r=!0:(t.innerHTML="El campo email no es válido",t.style.color="red",e.style.borderColor="red"),r}(a,m)||(r=!1),function(e,o,r,l){var n=!1;return""==e.value?(r.textContent="El campo contraseña no puede estar vacío",r.style.display="block",r.style.color="red"):t.test(e.value)?e.value!=o.value?(l.textContent="Las contraseñas no coinciden",l.style.display="block",l.style.color="red"):""==o.value?(l.textContent="El campo confirmar contraseña no puede estar vacío",l.style.display="block",l.style.color="red"):n=!0:(r.textContent="La contraseña no es válida",r.style.display="block",r.style.color="red"),n}(s,d,u,y)||(r=!1),r}()&&async function(e){var o={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({fotoPerfil:e.fotoPerfil,nombre:e.nombre,apellido:e.apellido,email:e.email,password:e.passwd,password_confirmation:e.confPasswd})};const t=await fetch("http://127.0.0.1:8000/api/registro",o);return await t.json()}({fotoPerfil:r.value,nombre:l.value,apellido:n.value,email:a.value,passwd:s.value,confPasswd:d.value}).then((e=>{200==e.status?(g.innerHTML="Cuenta creada con éxito",g.style.color="green",window.location.href="login.html"):(g.innerHTML="Error al crear la cuenta",g.style.color="red")})).catch((e=>{console.log(e)}))}))})();